
> poker-solver@0.1.0 test
> jest

node.exe : FAIL src/core/engine
/scenarios.test.ts
строка:1 знак:1
+ & "C:\Program Files\nodejs/no
de.exe" "C:\Users\Sopkasss\AppD
ata\Roami ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~
    + CategoryInfo          :  
   NotSpecified: (FAIL src/co  
  re/engine/scenarios.test.t   
 s:String) [], RemoteExcept    
ion
    + FullyQualifiedErrorId :  
   NativeCommandError
 
  тЧП Console

    console.log
      A acting...

      at Object.<anonymous> (sr
c/core/engine/scenarios.test.ts
:37:17)

    console.log
      B acting...

      at Object.<anonymous> (sr
c/core/engine/scenarios.test.ts
:48:17)

    console.log
      C acting...

      at Object.<anonymous> (sr
c/core/engine/scenarios.test.ts
:59:17)

    console.log
      Legal actions for A: [ 'f
old', 'call' ]

      at Object.<anonymous> (sr
c/core/engine/scenarios.test.ts
:73:17)

  тЧП Poker Engine Scenarios тА
║ 2. Uncalled Bet Return

    expect(received).toBe(expec
ted) // Object.is equality

    Expected: 1
    Received: 0

    [0m [90m 119 |[39m
     [90m 120 |[39m         e
xpect(state[33m.[39mstreet)[
33m.[39mtoBe([32m'showdown'[
39m)[33m;[39m
    [31m[1m>[22m[39m[90m 1
21 |[39m         expect(state
[33m.[39mpots[33m.[39mlength
)[33m.[39mtoBe([35m1[39m)[
33m;[39m
     [90m     |[39m          
                         [31m
[1m^[22m[39m
     [90m 122 |[39m         e
xpect(state[33m.[39mpots[[35
m0[39m][33m.[39mamount)[33m
.[39mtoBe([35m100[39m)[33m;
[39m [90m// 50 from Hero + 50
 from Villain[39m
     [90m 123 |[39m
     [90m 124 |[39m         
[90m// Hero should have 950 ret
urned?[39m[0m

      at Object.<anonymous> (sr
c/core/engine/scenarios.test.ts
:121:35)

FAIL src/core/engine/reproduce_
bug.test.ts
  тЧП Console

    console.log
      Test 1 Street: showdown

      at Object.<anonymous> (sr
c/core/engine/reproduce_bug.tes
t.ts:46:17)

    console.log
      Test 1 Actions: [{"type":
"next-hand","minAmount":0,"maxA
mount":0}]

      at Object.<anonymous> (sr
c/core/engine/reproduce_bug.tes
t.ts:51:17)

    console.log
      Test 2 Street: showdown

      at Object.<anonymous> (sr
c/core/engine/reproduce_bug.tes
t.ts:71:17)

    console.log
      Test 2 Actions: [{"type":
"next-hand","minAmount":0,"maxA
mount":0}]

      at Object.<anonymous> (sr
c/core/engine/reproduce_bug.tes
t.ts:76:17)

  тЧП Bug Reproduction: Betting
 at Showdown тА║ Should not all
ow actions when street is showd
own

    expect(received).toEqual(ex
pected) // deep equality

    - Expected  - 1
    + Received  + 7

    - Array []
    + Array [
    +   Object {
    +     "maxAmount": 0,
    +     "minAmount": 0,
    +     "type": "next-hand",
    +   },
    + ]

    [0m [90m 50 |[39m       
  [36mconst[39m legalActions 
[33m=[39m [33mRules[39m[33
m.[39mgetLegalActionsDetailed(
state)[33m;[39m
     [90m 51 |[39m         co
nsole[33m.[39mlog([32m'Test 
1 Actions:'[39m[33m,[39m [3
3mJSON[39m[33m.[39mstringify
(legalActions))[33m;[39m
    [31m[1m>[22m[39m[90m 5
2 |[39m         expect(legalAc
tions)[33m.[39mtoEqual([])[3
3m;[39m
     [90m    |[39m           
                   [31m[1m^[
22m[39m
     [90m 53 |[39m     })[33
m;[39m
     [90m 54 |[39m
     [90m 55 |[39m     test(
[32m'Should not allow actions a
fter All-In Runout to Showdown'
[39m[33m,[39m () [33m=>[39
m {[0m

      at Object.<anonymous> (sr
c/core/engine/reproduce_bug.tes
t.ts:52:30)

  тЧП Bug Reproduction: Betting
 at Showdown тА║ Should not all
ow actions after All-In Runout 
to Showdown

    expect(received).toEqual(ex
pected) // deep equality

    - Expected  - 1
    + Received  + 7

    - Array []
    + Array [
    +   Object {
    +     "maxAmount": 0,
    +     "minAmount": 0,
    +     "type": "next-hand",
    +   },
    + ]

    [0m [90m 75 |[39m       
  [36mconst[39m legalActions 
[33m=[39m [33mRules[39m[33
m.[39mgetLegalActionsDetailed(
state)[33m;[39m
     [90m 76 |[39m         co
nsole[33m.[39mlog([32m'Test 
2 Actions:'[39m[33m,[39m [3
3mJSON[39m[33m.[39mstringify
(legalActions))[33m;[39m
    [31m[1m>[22m[39m[90m 7
7 |[39m         expect(legalAc
tions)[33m.[39mtoEqual([])[3
3m;[39m
     [90m    |[39m           
                   [31m[1m^[
22m[39m
     [90m 78 |[39m     })[33
m;[39m
     [90m 79 |[39m })[33m;[
39m
     [90m 80 |[39m[0m

      at Object.<anonymous> (sr
c/core/engine/reproduce_bug.tes
t.ts:77:30)

FAIL src/core/engine/autoRunout
.test.ts
  тЧП Auto Runout & Uncalled Be
ts тА║ returns uncalled bet to 
aggressor

    TypeError: Cannot read prop
erties of undefined (reading 'a
mount')

    [0m [90m 111 |[39m
     [90m 112 |[39m         e
xpect(state[33m.[39mstreet)[
33m.[39mtoBe([32m'showdown'[
39m)[33m;[39m [90m// Auto-ru
nout should also happen[39m
    [31m[1m>[22m[39m[90m 1
13 |[39m         expect(state
[33m.[39mpots[[35m0[39m][33
m.[39mamount)[33m.[39mtoBe(
[35m560[39m)[33m;[39m
     [90m     |[39m          
                    [31m[1m^
[22m[39m
     [90m 114 |[39m         e
xpect(state[33m.[39mplayers[
[35m0[39m][33m.[39mstack)[3
3m.[39mtoBe([35m720[39m)[33
m;[39m
     [90m 115 |[39m
     [90m 116 |[39m         
[90m// Check total chips conser
vation[39m[0m

      at Object.<anonymous> (sr
c/core/engine/autoRunout.test.t
s:113:30)

PASS src/core/engine/showdown_n
ext_hand.test.ts
  тЧП Console

    console.log
      Winner: Villain Amount: 2
000 Hand: Three of a Kind, Ks

      at Object.<anonymous> (sr
c/core/engine/showdown_next_han
d.test.ts:52:17)

PASS src/core/evaluator/evaluat
or.test.ts
PASS src/core/showdown/showdown
.test.ts
PASS src/core/engine/engine.tes
t.ts

Test Suites: 3 failed, 4 passed
, 7 total
Tests:       4 failed, 58 passe
d, 62 total
Snapshots:   0 total
Time:        1.157 s
Ran all test suites.
